{% extends 'base.html' %}

{% block title %}Lista de Peças{% endblock %}

{% block content %}
    <main class="container mt-4">
        <div class="row justify-content-center mb-4">
            <div class="col-12 col-sm-12 col-md-8 col-lg-7 col-xl-7 text-center">
                <h1 style="font-weight: 700;"><label for="">Filtrar Local</label></h1>
                <p class="fw-medium" style="color: #6e6e77;">Escolha um setor para preencher a quantidade em estoque</p>
                <input class="form-control custom-select custom-select-sm fw-semibold" list="encodings" id="filterInput" type="text" placeholder="Pesquisar local..." aria-label="Pesquisar local...">
            </div>
        </div>
        <div class="row justify-content-center" style="margin-bottom: 50px;">
            <div class="col-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 text-center">
                {% for local in locais %}
                <a href="/inventario/{{local.nome}}" class="local-button"><button class="btn btn-light border m-2" style="font-size: 18px; font-weight: 400;">{{local.nome}} - {{local.almoxarifado}}</button></a>
                {% endfor %}
            </div>
        </div>
    </main>

{% endblock %}

{% block scripts %}

<script>

    // Seleciona o campo de entrada e os botões
    const filterInput = document.getElementById('filterInput');
    const buttons = document.querySelectorAll('.local-button');

    // Adiciona um evento de entrada (input) no campo
    filterInput.addEventListener('input', () => {
        const filterValue = filterInput.value.toLowerCase(); // Valor digitado em minúsculas

        buttons.forEach(button => {
            // Texto do botão para verificar
            const buttonText = button.textContent.toLowerCase();

            // Mostra ou oculta o botão com base na correspondência
            if (buttonText.includes(filterValue)) {
                button.style.display = 'contents'; // Exibe
            } else {
                button.style.display = 'none'; // Oculta
            }
        });
    });

</script>

{% endblock %}

